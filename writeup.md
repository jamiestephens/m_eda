# MTA Turnstile and Property Sales Trends in the Upper West Side
Jamie Stephens

## Abstract

The goal of this project was to analyze two datasets to find what relationship existed between trends in MTA turnstile data at the 66th St-Lincoln Center station, located in Manhattan's Upper West Side, and the property sale count of the surrounding area. To reduce statistical noise and maximize the chances that residential subway patterns would be captured, only entrance data with reporting times between 8am and 12pm was used.

## Design

The Manhattan property market is known to be volatile and high-value, and understanding relationships that can be gained from publicly available information is invaluable for investors and businesses involved in the construction or sale of property. To understand 

## Data
* Metropolitan Transit Authority: Turnstile Data
  * [Link: Turnstile Data](http://web.mta.info/developers/turnstile.html)
  * Pre-aggregation, dataset was 252,976 rows of turnstile entrance and exit totals, reported in four-hour increments
 
* NYC Department of Finance: Manhattan  New York City Sales Data 
  * [Link: Detailed Annual Sales Reports by Borough](https://www1.nyc.gov/site/finance/taxes/property-annualized-sales-update.page)
  * Pre-aggregation, dataset was 7,705 rows of completed property sales in the Upper West Side neighborhood between 59th Street and 79th Street

## Algorithms

*Data Auditing*
* Converted turnstile data from odometer-style, in which one turnstile returned the total cumulative entrances and exits, to timespan-specific, in which one line of data reflected the entrances and exits only recorded within one timespan
* Searched for and eliminated turnstile records that were clearly generated by machine errors (for example, a single turnstile recording over a million entrances)
* Excluded all turnstile records that were not reported between the hours of 8am and 12pm
* Converted datasets from daily values to monthly aggregated datasets

*Analysis*
Correlation coefficient: calculated using NumPy; formula available below
![image](https://user-images.githubusercontent.com/71529189/116650659-a58e2980-a94f-11eb-972e-8d816290432e.png)
Total property sale count correlation: -0.29
Residential property sale count correlation: -0.28

## Tools
* Python
  * BeautifulSoup: web scraping to acquire initial data files
  * SQLAlchemy: link Pandas datasets to a SQLite database
  * Matplotlib: data visualization
  * Pandas: data organization and analysis
  * NumPy: statistical analysis
* SQLite: data cleaning 

## Communication

I presented on this analysis in April 2021, with the following graphs contained within Powerpoint slides to illustrate the relationship between the two datasets. 

![image](https://user-images.githubusercontent.com/71529189/116646421-00228800-a946-11eb-828f-de34c8045a81.png)

![image](https://user-images.githubusercontent.com/71529189/116648147-585b8900-a94a-11eb-9afd-6a698e32b31d.png)
